# Git Tips

## Что такое Git?

__Git__ - это ~~то, с чем мне хронически лень работать, 
хоть оно и полезно~~ программа _(система контроля версий)_, 
позволяющая хранить историю изменений в проекте. Помимо того, что 
благодаря git можно узнать, кто, когда и какие измения вносил в 
проект, эта программа позволяет вести разработку параллельно 
нескольким людям и при необходимости откатывать проект к более 
ранним версиями.

## Как установить git?

На Windows git устанавливается вместе с консолью (её можно скачать 
[тут](https://git-scm.com/download/win)). Нам остается только 
убедиться в этом, проверив версию git командой  
```bash
$ git version
```

## Настройка git

Для удобства взаимодействия с другими пользователями перед 
началом работы с git следует внести данные о себе (логин и почту) 
при помощи комнады _git config_ с ключом _--global--_:  
```bash
$ git config --global user.name "Здесь имя или ник"  
$ git config --global user.email электронная_почта@mail.domen
```

Проверяем имя и почту командой для чтения файлов:
```bash
$ cat ~/.gitconfig
```
или командой для проверки конфигурации git:
```bash
$ git config --list
```

## Репозитории

Для отслеживания данных о проекте используются git-репозитории. 
Чтобы создать репозиторий, нужно перейти в нужную папку командой  
```bash
$ cd ~/путь/до/папки
```
и инициализировать репозиторий:
```bash
$ git init
```

Если что-то пойдет не по плану, папку всегда можно "разгитить":
```bash
$ rm -rf .git
```

__!Дальше все команды вводим, находясь внутри репозитория, иначе они 
просто не сработают!__

Когда репозиторий инициализирован, можно проверить его статус:
```bash
$ git status
```

Эта команда выведет название текущей ветки (первая ветка обычно 
называется _master_ или _main_) и информацию о файлах, в которых 
есть изменения и которые ожидают коммита (сохранения записи о них 
в репозитории). В статусе отображаются только отслеживаемые файлы, 
то есть добавленные в репозиторий командой
```bash
$ git add название_файла.расширение
```

Если файлов много и добавить в репозиторий нужно все, можно 
можно использовать ключ _--all_:
```bash
$git add --all
```

Чтобы внести в репозиторий запись об изменениях в отслеживаемых 
файлах, нужно их закоммитить:
```bash
$ git commit -m 'Комментарий, желательно информативный'
```
Если не добавить комментарий, наступает смерть в лице редактора Vim. 
Фиксится комбинацией _клавиша Esc + команда :q! + клавиша Enter_.

Историю коммитов в любой момент можно просмотреть через команду
```bash
$ git log
```

###### _Настройку SSH опустим_

## GitHub

Помимо собственно программы git, существуют специальные платформы, 
позволяющие разработчикам обмениваться репозиториями. Одной из 
наиболее популярных является __GitHub__.

GitHub позволяет создавать удаленные репозитории и связывать их с 
репозиториями локальными.

Чтобы связать удаленный репозиторий с локальным, нужен URL, который 
можно узнать на странице репозитория. Его мы вставляем в команду 
для подключения удаленного репозитория:
```bash
$ git remote add имя_удаленного_репозитория git@github.com:имя_аккаунта/название_проекта.git
```

Стандартный псевдоним/имя главного удаленного репозитория - _origin_.

Проверяем, что репозитории действительно связаны:
```bash
$ git remote -v
```

Изменения, внесенные в локальном репозитории, после коммита можно 
(и нужно) отправить в удаленный репозиторий. При первой отправке 
нужно будет связать ветки:
```bash
$ git push -u имя_удаленного_репозитория имя_ветки
```

В последствии достаточно использовать _git push_.

## Копирование репозиториев

Некоторые проекты на GitHub, находящиеся в открытом доступе, можно 
скопировать к себе на компьютер (клонировать). Для этого нужно 
скопировать ссылку на нужный репозиторий с его страницы на GitHub 
и вставить ее в команду для клонирования:
```bash
$ git clone ссылка_на_репозиторий
```

Если репозиторий не доступен для изменения, можно создать его "форк" 
себе в аккаунт и работать уже с ним. "Форки" создаются при помощи 
графического интерфейса GitHub, а потом клонируются в локальный 
репозиторией так же, как проекты с открытым кодом.

## Хэш

Он же __хеш__. Хэши представляют собой очень длинные комбинации цифр и
латинских букв от A до F и используются для идентификации коммитов. Для 
двух одинаковых ("равных", идентичных по всем параметрам) объектов всегда 
возвращается один и тот же хэш, а малейшее изменение в объекте ведет к 
полному изменению хэша.

Хэш каждого коммита git сохраняет в скрытой папке _.git_ (т.н. __лог__). 
Чтобы увидеть лог, нужно ввести команду
```bash
$ git log
```
При этом мы получим коммиты в полном формате: хэш, данные об авторе, дату 
и время создания и текст коммита. Однако при больших объемах лога 
удобнее выводить его в сокращенном формате, командой
```bash
$ git log --oneline
```
Эта команда выводит каждый коммит в виде одной строки, содержащей только 
первые символы хэша и комментарий. Количество выводимых символов хэша 
определяется количеством коммитов в репозитории: гит автоматически 
подбирает минимальное число символов, при котором выводимые сокращенные 
хэши останутся уникальными - это нужно для реализации возмодности поиска 
по сокращенному хэшу.

## HEAD

__HEAD__ - это самый свежий, рабочий коммит, ссылка на который хранится в 
служебном файле _refs/heads/master_. Само слово _HEAD_ можно использовать 
вместо хэша для обращения к последнему коммиту.

## Статусы файлов

Изначально все файлы в репозитории имеют статус _untracked_, т.е. 
"неотслеживаемые". Изменения, происходящие в таких файлах git никак не 
фиксирует и в коммит не добавляет.

Чтобы файлы попали в коммит и стали частью репозитория, нужно сменить их 
статус на _tracked_ при помощи команды
```bash
$ git add file_name.filetype
```
Делая файлы отслеживаемыми, команда _add_ одновременно меняет их статус на 
_staged_ (файлы в git могут иметь несколько статусов одновременно). Файлы 
с таким статусом "готовы к коммиту" и будут отправлены в репозиторий 
командой
```bash
$ git commit -m "commit_message"
```
После коммита файл перестает быть _staged_, но остается _tracked_.

Если внести какие-либо изменения в отслеживаемый файл, будь он уже 
закоммиченным или только ожидающим коммита, его статус меняется на 
_modified_. Чтобы убрать этот статус, файл нужно добавить в коммит 
командой _$ git add ..._

Чтобы узнать, в каком статусе находятся файлы в репозитории, нужно 
использовать команду
```bash
$ git status
```
Она выведет в консоль все неотслеживаемые, ожидающие коммита и 
измененные файлы. При этом статус _tracked_ явно не указывается, а 
отслеживаемые, но не измененные файлы не отображаются вовсе.

## Стили оформления

Единство стиля оформления коммитов необходимо для облегчения восприятия 
коммитов в логе. Главное правило, которого следует придерживаться - 
все комментарии к коммитам должны быть информативными, по ним должно быть 
сразу понятно, какие изменения внесены и где.

Остальные правила менее строгие и могут варьироваться в разных командах 
разработчиков.

----
_For more information sign up to Yandex.Practicum_
